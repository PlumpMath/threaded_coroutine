# threaded_coroutine
Basic C++ coroutines implemented with threads

The interface is inspired by Lua coroutines but unlike Lua a yield function must be passed to the coroutine, thus 
functions that take yield functions are called blocks.

A block is a function that takes a yield function as the first argument, plus any other arguments. A user doesn't write a yield function, 
it is generated by the blocks::make function. blocks::make returns a coroutine, or more accurately a std::shared_ptr to a
coroutine. This interface could be tidied a bit and made to mimic Lua almost exacatly but that is for another time. 

A yield function is the form std::function<std::tuple<bool,ReturnValues...>(Arguments...)>. Thus it is a function that 
takes any arguments and return a tuple with at least a boolean value. This boolean indicates if the coroutine produced a valid result.


The example generates prime numbers but not very efficiently. It basically works by chaining filters(which are 
implemented as coroutines) together. These filters remove multiples of a prime number. For example:

2,3,4,5,6,7,8,..... are fed into a filter that removes mutliples of 2.

2,3,5,7,9,... are fed into a filter that removes mutliples of 3.

2,3,5,7,11,13,... are fed into a filter that removes mutliples of 5 and so on.
